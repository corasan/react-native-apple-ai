"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[184],{8202:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"core-concepts","title":"Core Concepts","description":"Language Model Sessions","source":"@site/docs/core-concepts.md","sourceDirName":".","slug":"/core-concepts","permalink":"/react-native-apple-ai/docs/core-concepts","draft":false,"unlisted":false,"editUrl":"https://github.com/corasan/react-native-apple-ai/tree/main/docs/docs/core-concepts.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/react-native-apple-ai/docs/intro"},"next":{"title":"API Reference","permalink":"/react-native-apple-ai/docs/api-reference"}}');var a=s(4848),l=s(8453);const o={sidebar_position:2},t="Core Concepts",r={},c=[{value:"Language Model Sessions",id:"language-model-sessions",level:2},{value:"Apple Intelligence Availability",id:"apple-intelligence-availability",level:2},{value:"Availability States",id:"availability-states",level:3},{value:"Tool Calling",id:"tool-calling",level:2},{value:"Streaming Responses",id:"streaming-responses",level:2},{value:"Error Handling",id:"error-handling",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"core-concepts",children:"Core Concepts"})}),"\n",(0,a.jsx)(n.h2,{id:"language-model-sessions",children:"Language Model Sessions"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"LanguageModelSession"})," is the core class that manages AI conversations. Each session maintains context and can be configured with:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Instructions"}),": Define the AI's behavior and role"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Tools"}),": Custom functions the AI can invoke"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Streaming"}),": Real-time response handling"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import { LanguageModelSession } from 'react-native-apple-ai';\n\nconst session = new LanguageModelSession({\n  instructions: \"You are a helpful coding assistant.\",\n  tools: [weatherTool, calculatorTool]\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"apple-intelligence-availability",children:"Apple Intelligence Availability"}),"\n",(0,a.jsx)(n.p,{children:"Before using the module, check if Apple Intelligence is available:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import { checkFoundationModelsAvailability } from 'react-native-apple-ai';\n\nconst availability = checkFoundationModelsAvailability();\nconsole.log(availability.status); // 'available' or 'unavailable.xxx'\nconsole.log(availability.message); // Human-readable message\n"})}),"\n",(0,a.jsx)(n.h3,{id:"availability-states",children:"Availability States"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"available"}),": Ready to use"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"unavailable.platformNotSupported"}),": iOS version too old (requires 26.0+)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"unavailable.deviceNotEligible"}),": Device doesn't support Apple Intelligence"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"unavailable.appleIntelligenceNotEnabled"}),": Not enabled in Settings"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"unavailable.modelNotReady"}),": Model downloading or not ready"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"unavailable.unknown"}),": Unknown reason"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"tool-calling",children:"Tool Calling"}),"\n",(0,a.jsx)(n.p,{children:"Define custom tools that the AI can invoke during conversations:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import { z } from 'zod';\nimport { createTool } from 'react-native-apple-ai';\n\nconst weatherTool = createTool({\n  name: 'get_weather',\n  description: 'Get current weather for a location',\n  schema: z.object({\n    location: z.string().describe('The city and state/country'),\n    unit: z.enum(['celsius', 'fahrenheit']).optional()\n  }),\n  handler: async ({ location, unit = 'celsius' }) => {\n    // Fetch weather data\n    return `Weather in ${location}: 22\xb0${unit === 'celsius' ? 'C' : 'F'}`;\n  }\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"streaming-responses",children:"Streaming Responses"}),"\n",(0,a.jsx)(n.p,{children:"Handle real-time AI responses as they're generated:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'session.streamResponse("Tell me a story", (fullResponse: string) => {\n  console.log(fullResponse); // Gets called with the complete response so far\n});\n'})}),"\n",(0,a.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,a.jsx)(n.p,{children:"The module provides specific error types for different failure scenarios:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:"import { AppleAIError, isAppleAIError } from 'react-native-apple-ai';\n\ntry {\n  await session.streamResponse(\"Hello\", (response) => {\n    console.log(response);\n  });\n} catch (error) {\n  if (isAppleAIError(error)) {\n    switch (error.code) {\n      case 'SESSION_NOT_INITIALIZED':\n        // Handle session not ready\n        break;\n      case 'TOOL_EXECUTION_ERROR':\n        // Handle tool execution failure\n        break;\n      case 'UNSUPPORTED_PLATFORM':\n        // Handle platform not supported\n        break;\n    }\n  }\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var i=s(6540);const a={},l=i.createContext(a);function o(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);